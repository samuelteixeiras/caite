function handleAPILoaded(){"use strict";subscriptionsList(16,"alphabetical"),enableForm()}function handleAuthResult(a){"use strict";a?($(".pre-auth").hide(),$(".post-auth").show(),$("#login-modal").modal("hide"),loadAPIClientInterfaces()):($("#login-modal").modal("show"),$("#login-link").click(function(){gapi.auth.authorize({client_id:OAUTH2_CLIENT_ID,scope:OAUTH2_SCOPES,immediate:!1},handleAuthResult)}))}function checkAuth(){"use strict";gapi.auth.authorize({client_id:OAUTH2_CLIENT_ID,scope:OAUTH2_SCOPES,immediate:!0},handleAuthResult)}function loadAPIClientInterfaces(){"use strict";gapi.client.load("youtube","v3",function(){handleAPILoaded()})}function videoList(a){"use strict";var b=gapi.client.youtube.videos.list({part:"snippet",id:a,maxResults:1});b.execute(function(a){var b=a.result.items,c=b[0].snippet.thumbnails.medium.url,d='<img data-thumb="'+c+'" src="'+c+'" title="'+Thumbnail+'" width="175" data-group-key="thumb-group-0">',e=b[0].snippet.title,f=b[0].id,g=parseInt($("#badge-on-button").html());g++;var h="https://www.youtube.com/watch?v="+f;$("#channel-html > div:nth-child("+g+")").find("a").attr("href",h).attr("title",e).html(e),$("#channel-html > div:nth-child("+g+")").find("img").replaceWith(d),$("#badge-on-button").html(g)})}function playlistItems(a,b){"use strict";var c=b||1,d=gapi.client.youtube.playlistItems.list({part:"snippet",playlistId:a,maxResults:c});d.execute(function(a){var b=a.result.items,c=b[0].snippet.resourceId.videoId;videoList(c)})}function channelList(a,b){"use strict";var c=gapi.client.youtube.channels.list({part:"contentDetails",maxResults:"1",id:a});c.execute(function(a){for(var c=a.result,d=c.items.length;d--;){var e=c.items[d],f=e.contentDetails.relatedPlaylists.uploads;channels.addUploadsPlaylistId(e.id,f),playlistItems(f,b)}})}function subscriptionsList(a,b,c){"use strict";var d=gapi.client.youtube.subscriptions.list({part:"id,snippet,contentDetails",maxResults:a,order:b,mine:"true"});d.execute(function(a){for(var b=a.result,d=b.items.length;d--;){$("#channel-html").append(videoElement);var e=b.items[d],f=new Channel(e.snippet.resourceId.channelId,e.snippet.title,e.snippet.thumbnails.default.url);channels.addChannel(f),channelList(f.channelId,c)}})}var videoElement='<div class="col-md-3 col-channel"><span class="glyphicon glyphicon-remove" id="remove-icon"></span><div class="panel panel-primary"><div class="panel-body panel-channel"><img alt="" src="http://placehold.it/175x98" /></div><div class="panel-footer panel-primary"><a class="video-title"></a></div></div></div>';$(function(){"use strict";$("#login-modal").on("hidden.bs.modal",function(){window.setTimeout(checkAuth,1)}),$("#channel-html").sortable(),$("#channel-html").disableSelection()});var OAUTH2_CLIENT_ID="288807327051-n4sc0ddsb1cv0n93i5rmvlpm51skq2mk.apps.googleusercontent.com",OAUTH2_SCOPES=["https://www.googleapis.com/auth/youtube"];googleApiClientReady=function(){"use strict";gapi.auth.init(function(){window.setTimeout(checkAuth,1)})};var FactoryChannel=function(){"use strict";var a=[],b=function(){return a.sort()};return{addChannel:function(b){a.push(b)},getOrderChannels:function(){return b(a)},getChannels:function(){return a},addUploadsPlaylistId:function(b,c){for(var d=a.length-1;d>=0;d--)a[d].channelId===b&&(a[d].uploadsPlaylistId=c)}}},Channel=function(a,b,c,d){"use strict";return{channelId:a,title:b,thumbnail:c,uploadsPlaylistId:d}},channels=new FactoryChannel;